(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{701:function(t,e,r){"use strict";e.a={chart:{backgroundColor:"transparent",with:"100%",height:"40%",spacing:[5,0,0,0],type:"column",panning:!0,panKey:"shift"},title:{text:null},credits:{enabled:!1},legend:{itemHiddenStyle:{fontWeight:"normal",color:"var(--c-font-5)"},itemStyle:{fontWeight:"normal",color:"var(--c-font-4)"},itemHoverStyle:{fontWeight:"normal",color:"var(--c-font-4)"}},plotOptions:{areaspline:{fillOpacity:.3,borderWidth:2},column:{groupPadding:.2,pointPadding:.1,borderWidth:0,maxPointWidth:10,borderRadius:3},spline:{lineWidth:2,states:{hover:{lineWidth:2}}},pie:{dataLabels:{enabled:!0,distance:-30,format:"<b>{point.name}</b><br>{point.y}",filter:{property:"percentage",operator:">",value:4}},startAngle:270},series:{states:{inactive:{opacity:1}},marker:{radius:3,fillColor:"var(--c-bg-4)",lineWidth:2,lineColor:"var(--c-incomes-1)",symbol:"circle"},dataLabels:{enabled:!0,allowOverlap:!1,shadow:!1,color:"var(--c-chart-lables-text-color)",backgroundColor:"var(--c-item-bg-main)",align:"center",borderRadius:3,padding:3,y:-8,style:{textOutline:"var(--c-chart-lables-text-shaddow)",fontSize:"10px",fontFamily:"var(--font-secondary)",fontWeight:400,textTransform:"uppercase"}}}},xAxis:{categories:[],lineColor:"var(--c-bg-7)",tickColor:"var(--c-bg-7)",tickmarkPlacement:"on",crosshair:!0,labels:{autoRotation:0,padding:15,rotation:!1,style:{lineHeight:"10px",cursor:"pointer",color:"var(--c-font-5)",fontSize:"10px",fontFamily:"var(--font-secondary)",textTransform:"uppercase"}}},yAxis:{opposite:!1,endOnTick:!1,cursor:"pointer",alternateGridColor:"",gridLineColor:"var(--c-bg-5)",title:{text:null},labels:{style:{cursor:"pointer",color:"var(--c-font-5)",fontSize:"12px",fontFamily:"var(--font-secondary)",textTransform:"uppercase"}}},tooltip:{shared:!0,animation:!1,backgroundColor:"var(--c-bg-3)",borderColor:"var(--c-bg-7)",borderRadius:8,padding:0,shadow:!1,useHTML:!0,headerFormat:"",pointFormat:"",footerFormat:"",style:{color:"var(--c-font-2)",fontSize:"12px",fontFamily:"var(--font-roboto)"}}}},737:function(t,e,r){var content=r(769);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("1b94a68f",content,!0,{sourceMap:!1})},768:function(t,e,r){"use strict";r(737)},769:function(t,e,r){var o=r(22)((function(i){return i[1]}));o.push([t.i,'html[data-v-601fe9d3]{--font-secondary:"Unica One","Roboto Condensed",sans-serif;--font-roboto:"Roboto",sans-serif}h1[data-v-601fe9d3],h2[data-v-601fe9d3],h3[data-v-601fe9d3]{margin:0;color:var(--c-font-2);font-size:18px;font-weight:600;font-family:"Nunito","Roboto",sans-serif}.chart[data-v-601fe9d3]{z-index:3;position:relative;padding:20px}.item[data-v-601fe9d3]{color:var(--c-font-4);text-align:center}.item__name[data-v-601fe9d3]{padding-bottom:6px}.columns[data-v-601fe9d3]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:16px;grid-row-gap:16px;padding-bottom:16px}',""]),o.locals={},t.exports=o},844:function(t,e,r){"use strict";r.r(e);r(2);var o=r(8),n=(r(13),r(9),r(51),r(146),r(12),r(11),r(29),r(20),r(30),r(108)),c=r(715),l=r(701);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"AnalyticsChart",components:{Chart:c.Chart},props:{categoryId:{type:String,required:!0},chartType:{type:String,default:"column"}},data:function(){return{average:0,total:0,date:this.$day().valueOf(),visiblePeriodMenu:!1,dateStart:null,dateEnd:null}},computed:{showedPeriods:function(){return this.$store.state.stat.showedPeriods},statCurrentPeriod:function(){return this.$store.getters["stat/statCurrentPeriod"]},filterDate:function(){return this.$store.state.filter.date},periodName:function(){return this.$store.state.filter.period},chartData:function(){var t=this,e=this.$store.state.trns.items,r=this.periodName,o=this.$day(e[this.$store.getters["trns/firstCreatedTrnId"]].date).endOf(r),n=this.$day().endOf(r).diff(o,r)+1;n=n>this.showedPeriods?this.showedPeriods:n;var c=[],d=[],h="MMM";"day"===r&&(h="D.MM"),"week"===r&&(h="D.MM"),"month"===r&&(h="MMMM"),"year"===r&&(h="YYYY");for(var v=0;v<n;v++){var m=this.$day().endOf(r).subtract(v,r).valueOf(),y=this.$day(m).format(h),x=this.$store.getters["trns/getTrns"]({categoryId:this.categoryId,date:m,periodName:r}),O=this.$store.getters["trns/getTotalOfTrnsIds"](x);d.unshift({date:m,y:Math.abs(Number("".concat(O.incomes.toFixed()-O.expenses.toFixed()))),color:"var(--c-font-1)",marker:{radius:6,enabled:this.$day(m).isSame(this.$store.state.filter.date,r)}}),c.unshift(y)}for(var C=0,w=0,P=0,$=d;P<$.length;P++){var _=$[P];0!==_.y&&(C+=1,w+=_.y)}this.average=Math.abs(Number(w/C).toFixed()),this.total=d[d.length-1].y;var data={series:[{visible:!0,type:this.chartType,data:d}],categories:c};return f(f({},l.a),{},{legend:!1,tooltip:{shared:!0,animation:!1,outside:!0,positioner:function(){return{x:-1e3,y:-1e3}}},series:data.series,xAxis:f(f({},l.a.xAxis),{},{categories:data.categories}),yAxis:f(f({},l.a.yAxis),{},{plotLines:[{color:"var(--c-font-5)",value:this.average,width:"2",height:160,zIndex:1}]}),chart:f(f({},l.a.chart),{},{height:"120",events:{click:function(e){var r=this.series[0].searchPoint(e,!0)||this.series[1].searchPoint(e,!0);t.$store.dispatch("filter/setDate",parseInt(r.date))}}}),plotOptions:f(f({},l.a.plotOptions),{},{series:f(f({},l.a.plotOptions.series),{},{dataLabels:f(f({},l.a.plotOptions.series.dataLabels),{},{enabled:!0}),cursor:"pointer",point:{events:{click:function(){t.$store.dispatch("filter/setDate",parseInt(this.date))}}},allowPointSelect:!0,states:{select:{color:"green",backgroundColor:"var(--c-bg-14)"}}})})})}},methods:{formatAmount:function(t){var e,r,o,c="RUB"===this.$store.state.currencies.base?0:2;return e=t,r=" ",o=c,Object(n.a)(e,{symbol:null,precision:o,pattern:"#",separator:r}).format()}}},v=(r(768),r(5)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"chart",staticClass:"chart"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"item"},[r("div",{staticClass:"item__name"},[t._v(t._s(t.$t("stat.selectedPeriod")))]),r("div",{staticClass:"item__price"},[r("Amount",{attrs:{currency:t.$store.state.currencies.base,type:3,value:t.total||0,size:"xl",vertical:"center"}})],1)]),r("div",{staticClass:"item"},[r("div",{staticClass:"item__name"},[t._v(t._s(t.$t("money.average.base")))]),r("div",{staticClass:"item__price"},[r("Amount",{attrs:{currency:t.$store.state.currencies.base,value:t.average||0,size:"xl",vertical:"center"}})],1)])]),r("Chart",{staticClass:"swiper-no-swiping",attrs:{options:t.chartData}})],1)}),[],!1,null,"601fe9d3",null);e.default=component.exports;installComponents(component,{Amount:r(144).default})}}]);