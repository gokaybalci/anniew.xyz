(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{604:function(t,e,r){"use strict";e.a={chart:{backgroundColor:"transparent",with:"100%",height:"40%",spacing:[5,0,0,0],type:"column",panning:!0,panKey:"shift"},title:{text:null},credits:{enabled:!1},legend:{itemHiddenStyle:{fontWeight:"normal",color:"var(--c-font-5)"},itemStyle:{fontWeight:"normal",color:"var(--c-font-4)"},itemHoverStyle:{fontWeight:"normal",color:"var(--c-font-4)"}},plotOptions:{areaspline:{fillOpacity:.3,borderWidth:2},column:{groupPadding:.2,pointPadding:.1,borderWidth:0,maxPointWidth:10,borderRadius:3},spline:{lineWidth:2,states:{hover:{lineWidth:2}}},pie:{dataLabels:{enabled:!0,distance:-30,format:"<b>{point.name}</b><br>{point.y}",filter:{property:"percentage",operator:">",value:4}},startAngle:270},series:{states:{inactive:{opacity:1}},marker:{radius:3,fillColor:"var(--c-bg-4)",lineWidth:2,lineColor:"var(--c-incomes-1)",symbol:"circle"},dataLabels:{enabled:!0,allowOverlap:!1,shadow:!1,color:"var(--c-chart-lables-text-color)",backgroundColor:"var(--c-item-bg-main)",align:"center",borderRadius:3,padding:3,y:-8,style:{textOutline:"var(--c-chart-lables-text-shaddow)",fontSize:"10px",fontFamily:"var(--font-secondary)",fontWeight:400,textTransform:"uppercase"}}}},xAxis:{categories:[],lineColor:"var(--c-bg-7)",tickColor:"var(--c-bg-7)",tickmarkPlacement:"on",crosshair:!0,labels:{autoRotation:0,padding:15,rotation:!1,style:{lineHeight:"10px",cursor:"pointer",color:"var(--c-font-5)",fontSize:"10px",fontFamily:"var(--font-secondary)",textTransform:"uppercase"}}},yAxis:{opposite:!1,endOnTick:!1,cursor:"pointer",alternateGridColor:"",gridLineColor:"var(--c-bg-5)",title:{text:null},labels:{style:{cursor:"pointer",color:"var(--c-font-5)",fontSize:"12px",fontFamily:"var(--font-secondary)",textTransform:"uppercase"}}},tooltip:{shared:!0,animation:!1,backgroundColor:"var(--c-bg-3)",borderColor:"var(--c-bg-7)",borderRadius:8,padding:0,shadow:!1,useHTML:!0,headerFormat:"",pointFormat:"",footerFormat:"",style:{color:"var(--c-font-2)",fontSize:"12px",fontFamily:"var(--font-roboto)"}}}},714:function(t,e,r){var content=r(786);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("c574f984",content,!0,{sourceMap:!1})},785:function(t,e,r){"use strict";r(714)},786:function(t,e,r){var o=r(15)((function(i){return i[1]}));o.push([t.i,'html[data-v-77171356]{--font-secondary:"Unica One","Roboto Condensed",sans-serif;--font-roboto:"Roboto",sans-serif}h1[data-v-77171356],h2[data-v-77171356],h3[data-v-77171356]{margin:0;color:var(--c-font-2);font-size:18px;font-weight:600;font-family:"Nunito","Roboto",sans-serif}.chart[data-v-77171356]{z-index:3;position:relative;height:166px;padding:6px 0 0}.chart._height[data-v-77171356]{height:236px}.item[data-v-77171356]{color:var(--c-font-4);font-size:12px;text-align:center}.item__name[data-v-77171356]{padding-bottom:6px}.columns[data-v-77171356]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:16px;grid-row-gap:16px;padding-bottom:16px}',""]),o.locals={},t.exports=o},859:function(t,e,r){"use strict";r.r(e);r(2);var o=r(8),n=(r(102),r(9),r(10),r(72)),l=r(618),c=r(604);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={name:"AnalyticsChartTrns",components:{Chart:l.Chart},props:{periodName:{type:String,default:"month"},isShowSummury:{type:Boolean,default:!0}},data(){return{biggest:0,average:0,date:this.$day().valueOf(),visiblePeriodMenu:!1,dateStart:null,dateEnd:null,chartOptions:h(h({},c.a),{},{legend:!1,tooltip:!1})}},computed:{periods(){return this.$store.state.chart.periods},statCurrentPeriod(){return this.$store.getters["stat/statCurrentPeriod"]},statAverage(){return this.$store.getters["stat/statAverage"]},filterDate(){return this.$store.state.filter.date},filterCategory(){return this.$store.state.filter.categoryId},filterWallet(){return this.$store.state.filter.walletId}},watch:{showedPeriods(){this.init()},filterDate(){this.init()},filterCategory(){this.init()},filterWallet(){this.init()},periods(){this.init()}},mounted(){this.init()},methods:{init(){var data=this.generateData(this.periodName),t=t=>{this.$store.dispatch("filter/setPeriod",this.periodName),this.$store.dispatch("filter/setDate",t)};this.chartOptions.series=data.series,this.chartOptions.plotOptions.series={cursor:"pointer",point:{events:{click(){t(this.date)}}}},this.chartOptions=h(h({},this.chartOptions),{},{tooltip:!1,xAxis:{categories:data.categories},yAxis:{plotLines:[{color:"var(--c-bg-8)",value:this.average,width:"2",zIndex:1}]},chart:{backgroundColor:"transparent",with:"100%",height:160,spacing:[5,0,0,0],type:"column",panning:!0,panKey:"shift",events:{click(t){}}}})},formatAmount(t){var e,r,o,l="RUB"===this.$store.state.currencies.base?0:2;return e=t,r=" ",o=l,Object(n.a)(e,{symbol:null,precision:o,pattern:"#",separator:r}).format()},generateData(t,e){var r=[],o=[],n="MM";"day"===t&&(n="D.MM"),"week"===t&&(n="D.MM"),"month"===t&&(n="MMM"),"year"===t&&(n="YYYY");for(var l=0;l<this.$store.state.chart.periods[t].showedPeriods;l++){var c=this.$day().endOf(t).subtract(l,t).valueOf(),d=this.$day(c).startOf(t).format(n),h=this.$store.getters["trns/getTrns"]({date:c,periodName:t}),f=this.$store.getters["trns/getTotalOfTrnsIds"](h),v=Math.floor(Number("".concat(f.incomes.toFixed()-f.expenses.toFixed())));this.statAverage.total||(v=Math.abs(Number("".concat(f.incomes.toFixed()-f.expenses.toFixed())))),o.unshift({date:c,y:v,color:"var(--c-font-1)"}),r.unshift(d)}var m=0,y=0,x=0;for(var O of o)0!==O.y&&(y+=1,x+=O.y,O.y>m&&(m=O.y));this.biggest=m;var C=Math.floor(Number(x/y).toFixed());0!==this.statAverage.total&&(C=Math.abs(Number(x/y).toFixed())),this.average=C;var w="var(--c-blue-1)";return 0===this.statAverage.total&&(this.statAverage.incomes>0?w="var(--c-incomes-1)":this.statAverage.expenses>0&&(w="var(--c-expenses-1)")),{series:[{visible:!0,type:"spline",name:"Data",color:w,data:o,marker:{fillColor:"var(--c-bg-4)",lineWidth:2,lineColor:"var(--c-blue-1)",symbol:"circle"}}],categories:r}}}},v=(r(785),r(5)),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"chart",staticClass:"chart",class:{_height:t.isShowSummury}},[t.isShowSummury?r("div",{staticClass:"columns"},[r("div",{staticClass:"item"},[r("div",{staticClass:"item__name"},[t._v(t._s(t.$t("stat.selectedPeriod")))]),r("div",{staticClass:"item__price"},[t.chartOptions.series[0]&&t.chartOptions.series[0].data.length?r("Amount",{attrs:{currency:t.$store.state.currencies.base,type:3,value:t.chartOptions.series[0].data[t.chartOptions.series[0].data.length-1].y,size:"xl",vertical:"center"}}):t._e()],1)]),r("div",{staticClass:"item"},[r("div",{staticClass:"item__name"},[t._v(t._s(t.$t("money.average.base")))]),r("div",{staticClass:"item__price"},[r("Amount",{attrs:{currency:t.$store.state.currencies.base,value:t.average||0,size:"xl",vertical:"center"}})],1)])]):t._e(),r("Chart",{staticClass:"swiper-no-swiping",attrs:{options:t.chartOptions}})],1)}),[],!1,null,"77171356",null);e.default=component.exports;installComponents(component,{Amount:r(100).default})}}]);