(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{604:function(e,t,r){"use strict";t.a={chart:{backgroundColor:"transparent",with:"100%",height:"40%",spacing:[5,0,0,0],type:"column",panning:!0,panKey:"shift"},title:{text:null},credits:{enabled:!1},legend:{itemHiddenStyle:{fontWeight:"normal",color:"var(--c-font-5)"},itemStyle:{fontWeight:"normal",color:"var(--c-font-4)"},itemHoverStyle:{fontWeight:"normal",color:"var(--c-font-4)"}},plotOptions:{areaspline:{fillOpacity:.3,borderWidth:2},column:{groupPadding:.2,pointPadding:.1,borderWidth:0,maxPointWidth:10,borderRadius:3},spline:{lineWidth:2,states:{hover:{lineWidth:2}}},pie:{dataLabels:{enabled:!0,distance:-30,format:"<b>{point.name}</b><br>{point.y}",filter:{property:"percentage",operator:">",value:4}},startAngle:270},series:{states:{inactive:{opacity:1}},marker:{radius:3,fillColor:"var(--c-bg-4)",lineWidth:2,lineColor:"var(--c-incomes-1)",symbol:"circle"},dataLabels:{enabled:!0,allowOverlap:!1,shadow:!1,color:"var(--c-chart-lables-text-color)",backgroundColor:"var(--c-item-bg-main)",align:"center",borderRadius:3,padding:3,y:-8,style:{textOutline:"var(--c-chart-lables-text-shaddow)",fontSize:"10px",fontFamily:"var(--font-secondary)",fontWeight:400,textTransform:"uppercase"}}}},xAxis:{categories:[],lineColor:"var(--c-bg-7)",tickColor:"var(--c-bg-7)",tickmarkPlacement:"on",crosshair:!0,labels:{autoRotation:0,padding:15,rotation:!1,style:{lineHeight:"10px",cursor:"pointer",color:"var(--c-font-5)",fontSize:"10px",fontFamily:"var(--font-secondary)",textTransform:"uppercase"}}},yAxis:{opposite:!1,endOnTick:!1,cursor:"pointer",alternateGridColor:"",gridLineColor:"var(--c-bg-5)",title:{text:null},labels:{style:{cursor:"pointer",color:"var(--c-font-5)",fontSize:"12px",fontFamily:"var(--font-secondary)",textTransform:"uppercase"}}},tooltip:{shared:!0,animation:!1,backgroundColor:"var(--c-bg-3)",borderColor:"var(--c-bg-7)",borderRadius:8,padding:0,shadow:!1,useHTML:!0,headerFormat:"",pointFormat:"",footerFormat:"",style:{color:"var(--c-font-2)",fontSize:"12px",fontFamily:"var(--font-roboto)"}}}},619:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var o=r(2),n=r(13),l=r(56),c=Object(o.ref)(!1);function d(){var{$store:e}=Object(n.e)(),{filterPeriodNameAllReplacedToYear:t}=Object(l.a)();return{isShowDataLabels:c,toogleChartsView:function(){e.commit("chart/toogleChartPeriodView",{periodName:t.value}),e.dispatch("ui/saveUiView")},showDataLabels:function(){c.value=!0},hideDataLabels:function(){c.value=!1}}}},720:function(e,t,r){var content=r(799);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("8675d388",content,!0,{sourceMap:!1})},798:function(e,t,r){"use strict";r(720)},799:function(e,t,r){var o=r(15)((function(i){return i[1]}));o.push([e.i,'html[data-v-7072dba6]{--font-secondary:"Unica One","Roboto Condensed",sans-serif;--font-roboto:"Roboto",sans-serif}h1[data-v-7072dba6],h2[data-v-7072dba6],h3[data-v-7072dba6]{margin:0;color:var(--c-font-2);font-size:18px;font-weight:600;font-family:"Nunito","Roboto",sans-serif}.chart[data-v-7072dba6]{z-index:3;position:relative}',""]),o.locals={},e.exports=o},863:function(e,t,r){"use strict";r.r(t);var o=r(2),n=r(13),l=r(8),c=r(4),d=(r(61),r(102),r(9),r(10),r(618)),f=r(604),h=r(619),v=r(56);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x=Object(o.defineComponent)({components:{Chart:d.Chart},props:{amountType:{type:String,default:null},categoryId:{type:String,default:null},disableCategoryFilter:{type:Boolean,default:!1},isShowExpenses:{type:Boolean,default:!0},isShowIncomes:{type:Boolean,default:!0}},setup(){var{$store:e}=Object(n.e)(),{isShowDataLabels:t}=Object(h.a)(),{filterPeriodNameAllReplacedToYear:r,scrollTop:l}=Object(v.a)(),d=Object(o.computed)((()=>e.state.chart.periods)),f=Object(o.computed)((()=>d.value[r.value].grouped?"column":"spline")),m=Object(o.ref)({}),y=function(){var t=Object(c.a)((function*(t){var r,o,n,c=m.value;if(c){var d=yield c.pointer.normalize(t),f=(null===(r=c.series[0].searchPoint(d,!0))||void 0===r?void 0:r.date)||(null===(o=c.series[1].searchPoint(d,!0))||void 0===o?void 0:o.date)||(null===(n=c.series[2].searchPoint(d,!0))||void 0===n?void 0:n.date);setTimeout((()=>{var t,r,o;(f=(null===(t=c.series[0].searchPoint(d,!0))||void 0===t?void 0:t.date)||(null===(r=c.series[1].searchPoint(d,!0))||void 0===r?void 0:r.date)||(null===(o=c.series[2].searchPoint(d,!0))||void 0===o?void 0:o.date))&&("all"===e.state.filter.period&&e.dispatch("filter/setPeriod","year"),e.dispatch("filter/setDate",parseInt(f)),l())}),100)}}));return function(e){return t.apply(this,arguments)}}();return Object(o.watch)((()=>e.state.filter.date),Object(c.a)((function*(){yield Object(o.nextTick)();var t=m.value;if(m.value){var r=t.series[0].options.data.findIndex((t=>+t.date==+e.state.filter.date));-1!==r&&t.xAxis[0].update({plotBands:[{color:"var(--c-item-bg-active)",from:r+.5,to:r-.5}]})}})),{immediate:!0}),{onClickChart:y,chartCallback:e=>{m.value=e},isShowDataLabels:t,chartType:f,filterPeriodNameAllReplacedToYear:r,scrollTop:l}},computed:{chartData(){var e=this.filterPeriodNameAllReplacedToYear,t=this.$store.state.chart.periods,r=this.$store.state.trns.items,o=this.$day(r[this.$store.getters["trns/firstCreatedTrnId"]].date).endOf(e),n=this.$day().endOf(e).diff(o,e)+1,l=t[e].showedPeriods;n=l>=n?n:l;for(var c=[],d=[],h=[],v=[],m=0;m<n;m++){var x=this.$day().startOf(e).subtract(m,e).valueOf(),O=this.$store.getters["trns/getTrns"]({date:x,periodName:e,categoryId:null,disableCategoryFilter:this.disableCategoryFilter}),w=this.$store.getters["trns/getTotalOfTrnsIds"](O),C="MM";"day"===e&&(C="D.MM"),"week"===e&&(C="D MMM"),"month"===e&&(C="MMM"),"year"===e&&(C="YYYY");var j=this.$day().startOf(e).subtract(m,e).format(C);d.unshift({date:x,y:Number("".concat(w.incomes.toFixed()))}),h.unshift({date:x,y:Number("".concat(w.expenses.toFixed()))}),v.unshift({date:x,y:Number("".concat(w.total.toFixed()))}),c.unshift(j)}var P=0,k=0;for(var T of d)0!==T.y&&(P+=1,k+=T.y);var S=0,D=0;for(var I of h)0!==I.y&&(S+=1,D+=I.y);var $=h.map((i=>({date:i.date,y:k/P||D/S}))),data={series:[{zIndex:3,visible:k>0&&this.isShowIncomes,type:this.chartType,name:this.$t("money.incomes"),color:"var(--c-incomes-1)",data:d,marker:{lineColor:"var(--c-incomes-1)"}},{zIndex:2,visible:D>0&&this.isShowExpenses,type:this.chartType,name:this.$t("money.expenses"),color:"var(--c-expenses-1)",data:h,marker:{lineColor:"var(--c-expenses-1)"}},{zIndex:1,visible:!0,type:"line",name:"",color:"transparent",data:$,marker:{enabled:!1,symbol:"circle",radius:0,lineWidth:0,states:{hover:{fillColor:"transparent",lineColor:"transparent",lineWidth:0}}},dataLabels:{enabled:!1}}],categories:c,averageIncomes:k/P,averageExpenses:D/S},L=this.$store.state.ui.pc?y({},f.a.tooltip):{enabled:!1};return y(y({},f.a),{},{legend:!1,tooltip:L,series:data.series,xAxis:y(y({},f.a.xAxis),{},{categories:data.categories}),yAxis:y(y({},f.a.yAxis),{},{plotLines:[{opacity:.5,color:"var(--c-expenses-opacity)",value:data.averageExpenses,width:"2",zIndex:1},{opacity:.5,color:"var(--c-incomes-opacity)",value:data.averageIncomes,width:"2",zIndex:1}]}),chart:y(y({},f.a.chart),{},{height:"180"}),plotOptions:y(y({},f.a.plotOptions),{},{series:y(y({},f.a.plotOptions.series),{},{dataLabels:y(y({},f.a.plotOptions.series.dataLabels),{},{enabled:this.isShowDataLabels})})})})}}}),O=x,w=(r(798),r(5)),component=Object(w.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chart",on:{click:e.onClickChart}},[r("Chart",{attrs:{options:e.chartData,callback:e.chartCallback}})],1)}),[],!1,null,"7072dba6",null);t.default=component.exports}}]);