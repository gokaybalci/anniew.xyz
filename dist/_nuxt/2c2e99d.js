(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{701:function(t,e,r){"use strict";e.a={chart:{backgroundColor:"transparent",with:"100%",height:"40%",spacing:[5,0,0,0],type:"column",panning:!0,panKey:"shift"},title:{text:null},credits:{enabled:!1},legend:{itemHiddenStyle:{fontWeight:"normal",color:"var(--c-font-5)"},itemStyle:{fontWeight:"normal",color:"var(--c-font-4)"},itemHoverStyle:{fontWeight:"normal",color:"var(--c-font-4)"}},plotOptions:{areaspline:{fillOpacity:.3,borderWidth:2},column:{groupPadding:.2,pointPadding:.1,borderWidth:0,maxPointWidth:10,borderRadius:3},spline:{lineWidth:2,states:{hover:{lineWidth:2}}},pie:{dataLabels:{enabled:!0,distance:-30,format:"<b>{point.name}</b><br>{point.y}",filter:{property:"percentage",operator:">",value:4}},startAngle:270},series:{states:{inactive:{opacity:1}},marker:{radius:3,fillColor:"var(--c-bg-4)",lineWidth:2,lineColor:"var(--c-incomes-1)",symbol:"circle"},dataLabels:{enabled:!0,allowOverlap:!1,shadow:!1,color:"var(--c-chart-lables-text-color)",backgroundColor:"var(--c-item-bg-main)",align:"center",borderRadius:3,padding:3,y:-8,style:{textOutline:"var(--c-chart-lables-text-shaddow)",fontSize:"10px",fontFamily:"var(--font-secondary)",fontWeight:400,textTransform:"uppercase"}}}},xAxis:{categories:[],lineColor:"var(--c-bg-7)",tickColor:"var(--c-bg-7)",tickmarkPlacement:"on",crosshair:!0,labels:{autoRotation:0,padding:15,rotation:!1,style:{lineHeight:"10px",cursor:"pointer",color:"var(--c-font-5)",fontSize:"10px",fontFamily:"var(--font-secondary)",textTransform:"uppercase"}}},yAxis:{opposite:!1,endOnTick:!1,cursor:"pointer",alternateGridColor:"",gridLineColor:"var(--c-bg-5)",title:{text:null},labels:{style:{cursor:"pointer",color:"var(--c-font-5)",fontSize:"12px",fontFamily:"var(--font-secondary)",textTransform:"uppercase"}}},tooltip:{shared:!0,animation:!1,backgroundColor:"var(--c-bg-3)",borderColor:"var(--c-bg-7)",borderRadius:8,padding:0,shadow:!1,useHTML:!0,headerFormat:"",pointFormat:"",footerFormat:"",style:{color:"var(--c-font-2)",fontSize:"12px",fontFamily:"var(--font-roboto)"}}}},817:function(t,e,r){var content=r(894);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("c864ef42",content,!0,{sourceMap:!1})},893:function(t,e,r){"use strict";r(817)},894:function(t,e,r){var o=r(22)((function(i){return i[1]}));o.push([t.i,'html[data-v-8b5897e8]{--font-secondary:"Unica One","Roboto Condensed",sans-serif;--font-roboto:"Roboto",sans-serif}h1[data-v-8b5897e8],h2[data-v-8b5897e8],h3[data-v-8b5897e8]{margin:0;color:var(--c-font-2);font-size:18px;font-weight:600;font-family:"Nunito","Roboto",sans-serif}.chart[data-v-8b5897e8]{z-index:3;position:relative;width:100%;transition:.3s cubic-bezier(.17,.04,.03,1)}.chart[data-v-8b5897e8],.chart__nav[data-v-8b5897e8]{background:var(--c-bg-2)}.chart__nav[data-v-8b5897e8]{z-index:10;position:absolute;top:10px;right:50%;display:flex;border:1px solid var(--c-bg-1);transform:translateX(50%)}.chart__navItem[data-v-8b5897e8]{padding:10px 20px}.chart__navItem[data-v-8b5897e8]:active,.isNotTouchDevice .chart__navItem[data-v-8b5897e8]:hover{background:var(--c-bg-1)}.chart__content[data-v-8b5897e8]{padding:30px 40px}',""]),o.locals={},t.exports=o},960:function(t,e,r){"use strict";r.r(e);r(2),r(11),r(29),r(20),r(30);var o=r(8),n=(r(12),r(13),r(9),r(51),r(146),r(108)),c=r(715),l=r(701);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={name:"StatChartBalance",components:{Chart:c.Chart},data:function(){var t=this;return{date:this.$day().valueOf(),periodName:"month",visiblePeriodMenu:!1,dateStart:null,dateEnd:null,chartOptions:h(h({},l.a),{},{chart:{events:{click:function(e){var r=this.series[0].searchPoint(e,!0)||this.series[1].searchPoint(e,!0);t.$store.dispatch("filter/setDate",parseInt(r.date))}}}})}},mounted:function(){var t=this,data=this.generateData(this.periodName);this.chartOptions.series=data.series,this.chartOptions.plotOptions.series={cursor:"pointer",point:{events:{click:function(){var e;e=this.date,t.$store.dispatch("filter/setDate",parseInt(e))}}}},this.chartOptions=h(h({},this.chartOptions),{},{xAxis:{categories:data.categories},chart:{backgroundColor:"transparent",with:"auto",height:"300",spacing:[5,0,0,0],type:"column",panning:!0,panKey:"shift"}})},methods:{changePeriod:function(t){if(this.periodName!==t){this.periodName=t;var data=this.generateData(this.periodName,this.chartOptions.series);this.chartOptions.series=data.series,this.chartOptions.xAxis.categories=data.categories}},formatAmount:function(t){var e,r,o,c="RUB"===this.$store.state.currencies.base?0:2;return e=t,r=" ",o=c,Object(n.a)(e,{symbol:null,precision:o,pattern:"#",separator:r}).format()},generateData:function(t){var e=this,r=this.$store.state.trns.items,o=Object.keys(r),n=this.$day(r[this.$store.getters["trns/firstCreatedTrnId"]].date).endOf(t),c=this.$day().endOf(t).diff(n,t)+1;c=c>12?12:c;for(var l=this.$day().endOf(t).subtract(c,t).valueOf(),d=o.filter((function(t){return r[t].date<l})),h=this.$store.getters["trns/getTotalOfTrnsIds"](d,!0),f=[],v=[],m=[],y=[],O=function(n){var c=e.$day().endOf(t).subtract(n,t).valueOf(),d=o.filter((function(t){return r[t].date>l&&r[t].date<c})),O=e.$store.getters["trns/getTotalOfTrnsIds"](d,!0),x=e.$day().endOf(t).subtract(n,t).valueOf(),_=e.$day(x).format("MMM YY"),C=e.$store.getters["trns/getTrns"]({date:x,periodName:t}),k=e.$store.getters["trns/getTotalOfTrnsIds"](C);v.unshift({date:x,y:Number("".concat(k.incomes.toFixed()))}),m.unshift({date:x,y:Number("".concat(k.expenses.toFixed()))}),y.unshift({date:x,y:Number("".concat((h.total+O.total).toFixed()))}),f.unshift(_)},x=0;x<c;x++)O(x);return{series:[{visible:!1,type:"spline",name:"Incomes",color:"var(--c-incomes-1)",data:v,marker:{lineColor:"var(--c-incomes-1)"}},{visible:!1,type:"spline",name:"Expenses",color:"var(--c-expenses-1)",data:m,marker:{lineColor:"var(--c-expenses-1)"}},{visible:!0,type:"areaspline",name:"Balance",color:"#c1c1c1",data:y,marker:{lineColor:"#c1c1c1"}}],categories:f}}}},v=(r(893),r(5)),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"chart",staticClass:"chart"},[r("div",{staticClass:"chart__nav"},[r("div",{staticClass:"chart__navItem",on:{click:function(e){return t.changePeriod("month")}}},[t._v("Months")]),r("div",{staticClass:"chart__navItem",on:{click:function(e){return t.changePeriod("year")}}},[t._v("Years")])]),r("div",{staticClass:"chart__content"},[r("Chart",{attrs:{options:t.chartOptions}})],1)])}),[],!1,null,"8b5897e8",null);e.default=component.exports}}]);